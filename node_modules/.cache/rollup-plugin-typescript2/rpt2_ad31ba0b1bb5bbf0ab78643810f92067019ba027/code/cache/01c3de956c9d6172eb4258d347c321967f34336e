{"code":"import { Plugin } from 'obsidian';\nimport { loadSettings, saveSettings } from './settings';\nimport { generateSummary, saveSummary } from './summary';\nimport { startRecording, stopRecording } from './recording';\nexport default class ObsidianAiPlugin extends Plugin {\n    constructor() {\n        super(...arguments);\n        this.settings = {\n            peopleFolder: \"People/\",\n            meetingsFolder: \"Meetings/\",\n            projectsFolder: \"Projects/\",\n            mocFolder: \"MOCs/\",\n            summariesFolder: \"Summaries/\",\n            fallbackMOC: \"MOCs/Miscellaneous.md\",\n            openAIKey: \"\",\n            assemblyAIKey: \"\",\n            transcriptionSettings: {\n                language: \"en\",\n                accuracySpeed: \"high\"\n            }\n        };\n    }\n    async onload() {\n        await this.loadSettings();\n        // Register context menu actions\n        this.registerEvent(this.app.workspace.on('file-menu', (menu, file) => {\n            menu.addItem((item) => {\n                item.setTitle('Categorize and Summarize')\n                    .setIcon('dot-network')\n                    .onClick(async () => {\n                    const summaryContent = await generateSummary(file, this.settings);\n                    saveSummary(summaryContent, this.settings.summariesFolder);\n                });\n            });\n            menu.addItem((item) => {\n                item.setTitle('Record Meeting')\n                    .setIcon('microphone')\n                    .onClick(async () => {\n                    startRecording();\n                    this.registerEvent(this.app.workspace.on('app:unload', stopRecording));\n                });\n            });\n        }));\n        // Register settings tab\n        this.addSettingTab(new ObsidianAiSettingTab(this.app, this));\n    }\n    async onunload() {\n        console.log('unloading plugin');\n    }\n    async loadSettings() {\n        const loadedSettings = await loadSettings();\n        if (loadedSettings) {\n            this.settings = loadedSettings;\n        }\n    }\n    async saveSettings() {\n        await saveSettings(this.settings);\n    }\n}\nclass ObsidianAiSettingTab extends PluginSettingTab {\n    constructor(app, plugin) {\n        super(app, plugin);\n        this.plugin = plugin;\n    }\n    display() {\n        let { containerEl } = this;\n        containerEl.empty();\n        containerEl.createEl('h2', { text: 'Settings for Obsidian AI Plugin' });\n        new Setting(containerEl)\n            .setName('People folder')\n            .setDesc('The folder where people notes are stored.')\n            .addText(text => text\n            .setPlaceholder('Enter folder name')\n            .setValue(this.plugin.settings.peopleFolder)\n            .onChange(async (value) => {\n            this.plugin.settings.peopleFolder = value;\n            await this.plugin.saveSettings();\n        }));\n        // Additional settings can be added here following the same pattern\n    }\n}\n","references":["C:/Users/jhope/dev/developer/generated-obsidianAi/node_modules/obsidian/obsidian.d.ts","C:/Users/jhope/dev/developer/generated-obsidianAi/settings.ts","C:/Users/jhope/dev/developer/generated-obsidianAi/summary.ts","C:/Users/jhope/dev/developer/generated-obsidianAi/recording.ts"]}
